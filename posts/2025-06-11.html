<!DOCTYPE html>
<html>
<head>
  <title>Friedman's indiscernible primes</title>
  <script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$']]
    },
    svg: {
      fontCache: 'global'
    }
  };
  </script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>
</head>
<body>
<h1>Friedman's indiscernible primes</h1>

<p>This is a result Harvey Friedman <a href="https://web.archive.org/web/20240817225635/https://cs.nyu.edu/pipermail/fom/1999-May/003172.html">posted</a> to the FOM mailing list in May 1999. Here is a proof sketch of his result.</p>

<p>Here are the relevant notions from Friedman's post:</p>

<blockquote>A [strong] shift indiscernible set of primes is a finite set of primes $E = \{p_1 < \ldots < p_k\}$ such that for all $1 \leq i \leq k-2$, every polynomial over $\mathbb Z$ whose number of variables, degree, and magnitudes of coefficients are at most $p_i$ that achieves the value $p_{i+1}\ldots p_{k-1}$ [the product $\prod_{j=i+1}^{k-1}p_j$] also achieves the value $p_{i+2}\ldots p_k$.<br />

THEOREM 2. There are strong shift indiscernible sets of primes of any given finite cardinality. This is independent of Peano Arithmetic (equivalent to the 1-consistency of Peano Arithmetic), and the associated growth rate corresponds to level $\varepsilon_0$ in standard hierarchies of functions.</blockquote>

<p>What I will give a proof sketch of here is that his statement in theorem 2 (the statement about shift indiscernible sets of primes) is unprovable in Peano arithmetic. The proofs that it's independent, and that it's equivalence to 1-consistency is left as an exercise to the reader (hint: do what Paris and Harrington did in theorem 3.1 of <a href="https://www.karlin.mff.cuni.cz/~krajicek/ph.pdf">their original article</a> introducing the Paris-Harrington theorem), and about its growth rate, I only know how to prove that the associated function eventually dominates all provably recursive functions of Peano arithmetic (see <a href="2024-11-29.html">this</a> theorem) but not how to show its growth rate is exactly $\varepsilon_0$.</p>

<h2>Unprovability in PA</h2>
<p>This proof sketch is based on Bovykin's short proof that (a modified version of) the Kanamori-McAloon principle is not provable in Peano arithmetic, see pages 14--15 of Bovykin's "<a href="https://www.aemea.org/math/Intro_to_unprovability.pdf">Brief introduction to unprovability</a>" (2006). It's still a bit sketchy (for example about the specifics of the proof of the MRDP theorem), but should be helpful to anyone who wants to write a complete proof. A note about this statement, this statement has a Ramsey-theoretic flavor but the order of quantification is reversed compared to usual Ramsey-theoretic statements: the "homogeneous" (here indiscernible) subset is quantified before the function is, instead of the function being quantified and then a homogeneous subset existing for each function.</p>

<p>Let $\mathsf{SSIP}$ denote Friedman's statement "there are strong shift indiscernible sets of primes of any given finite cardinality", and for a natural number $n > 1$, let $\mathsf{SSIP}_n$ denote the statement "there is a strong shift indiscernible set of primes of size $n$" (so $\mathsf{SSIP}$ states $\forall n(\mathsf{SSIP}_n)$.) Now we define a modified version of strong shift indiscernibility of sets of primes. Say that a strong shift indiscernible' set of primes is a finite set of primes $E = \{p_1 < \ldots < p_k\}$ such that every polynomial over $\mathbb Z$ whose number of variables, degree, and magnitude of coefficients are at most $2\uparrow\uparrow p_i$ that achieves the value $p_1\ldots p_{k-1}$ also achieves the value $p_2\ldots p_k$. For a natural number $n > 1$, let $\mathsf{SSIP}'_n$ denote the modified version of $\mathsf{SSIP}_n$ stating "there is a strong shift indiscernible' set of primes of size $n$".</p>

<p>Now for some definitions relevant to Hilbert's tenth problem and Diophantine sets. For an integer-valued polynomial $P$, say that the nonnegative range of $P$ is the set $\mathrm{ran}(P)\cup\mathbb N$, and say that the norm of $P$ is the maximum out of its number of unknowns, its number of degrees, and all the magnitudes of its coefficients. For a natural number $n$, say that a set $D\subseteq\mathbb Z$ is $n$-Diophantine if there is a polynomial $P(x,y_1,\ldots,y_k)$ with norm $\leq n$ such that for all integers $x$, it holds that $x\in S$ iff $\exists y_1\ldots,y_k(P(x,y_1,\ldots,y_k) = 0)$.</p>

<p><b>Lemma 1:</b> The theory $\mathsf I\Sigma_1$ proves the following. Assume that $D\subseteq\mathbb Z$ is a Diophantine set that is defined by a polynomial $Q(x,y_1,\ldots,y_m)$ with norm at most $n$ for some natural $n$, namely for all integers $x$, it holds that $x\in D$ iff $\exists(y_1,\ldots,y_m\in\mathbb Z)(Q(x,y_1,\ldots,y_m) = 0)$. Then there is a polynomial $P$ with norm at most $n^2$ such that the nonnegative range of $Q$ equals $D\cap\mathbb N$.</p>

<p><b>Proof:</b> Work in $\mathsf I\Sigma_1$. We use a construction similar to one by Putnam. (H. Putnam, "An unsolvable problem in number theory". Journal of Symbolic Logic vol. 25, no. 3 (1960)) Assume that $D$ and $Q(x,y_1,\ldots,y_m)$ are as given. Define $P(x,y_1,\ldots,y_m)$ to be the polynomial $x - (x+1)(Q(x,y_1,\ldots,y_m)^2)$. Then $P$ has the same number of unknowns as $Q$, $P$'s degree is at most $2\cdot\mathrm{deg}(Q) + 1$, and the maximum magnitude of a coefficient of $P$ is at most the square of the maximum magnitude of a coefficient of $Q$. So since the norm of $Q$ is at most $n$, the norm of $P$ is at most $n^2$. $\square$</p>

<p>The next lemma is sketchy in two places, but these can likely be filled in by (respectively) looking for references on the logical strength of the MRDP theorem, and by delving into the internals of its proof.</p>

<p><b>Lemma 2:</b> The theory $\mathsf I\Sigma_1$ proves the following. Let $\psi(x_1,\ldots,x_n)$ be a $\Delta^0_0$ formula with Goedel-code $g$. Then there is a polynomial $P(x_1,\ldots,x_n,y_1,\ldots,y_m)$ on the integers with norm at most $2^{2^g}$ (subject to change if necessary) such that for all prime numbers $p_1,\ldots,p_n$, we have $\psi(p_1,\ldots,p_n)$ iff the product $p_1\ldots p_n$ is in the nonnegative range of $P$, i.e. iff there exist integers $y_1,\ldots,y_m$ such that $P(p_1,\ldots,p_n,y_1,\ldots,y_m)$ is nonnegative and equal to $p_1,\ldots,p_n$.</p>

<p><b>Proof sketch:</b> Work in $\mathsf I\Sigma_1$. We use a construction similar to one by Putnam. (H. Putnam, "An unsolvable problem in number theory". Journal of Symbolic Logic vol. 25, no. 3 (1960)) First, use a reference (which I don't know) to show that $\mathsf I\Sigma_1$ proves the MRDP theorem. Then, since $\psi$ is $\Delta^0_0$, the unary predicate $\exists x_1,\ldots,x_n(x = x_1\ldots x_n\land\psi(x_1,\ldots,x_n))$ of $x$ is recursively enumerable. By the MRDP theorem, there is a polynomial $Q(x,y_1,\ldots,y_m)$ such that for all natural numbers $x$, we have $\psi(x_1,\ldots,x_n)$ iff there exist $x_1,\ldots,x_n\in\mathbb N$ and $y_1,\ldots,y_m\in\mathbb Z$ such that $x = x_1\ldots x_n$ and $Q(x_1,\ldots,x_n,y_1,\ldots,y_m) = 0$. Define $P(x,y_1,\ldots,y_m)$ to be $x - (x+1)Q(x_1,\ldots,x_n,y_1,\ldots,y_m)^2$.</p>

<p>Now let $p_1,\ldots,p_n$ be arbitrary prime numbers. We aim to show that $\psi(p_1,\ldots,p_n)$ holds iff $p_1,\ldots,p_n$ is in the nonnegative range of $P$, i.e. iff there exist integers $y_1,\ldots,y_m$ such that $P(p_1,\ldots,p_n,y_1,\ldots,y_m)$ is nonnegative and equal to $p_1\ldots p_n$. Assume that $\psi(p_1,\ldots,p_n)$ is true. Then there exist $y_1,\ldots,y_m$ such that $P'(p_1,\ldots,p_n,y_1,\ldots,y_m) = 0$. For these $y_1,\ldots,y_m$, we have $P'(p_1,\ldots,p_n,y_1,\ldots,y_m)^2 = 0$, therefore $P(p_1,\ldots,p_n,y_1,\ldots,y_m) = p_1\ldots p_n - 0 = p_1\ldots p_n$, so it is in the nonnegative range of $P$. Now assume that $\psi(p_1,\ldots,p_n)$ is false. Then for all choices of integers $y_1,\ldots,y_m$, we have $P'(p_1,\ldots,p_n,y_1,\ldots,y_m) \neq 0$, so $P'(p_1,\ldots,p_n,y_1,\ldots,y_m)^2 > 0$, therefore $P(p_1,\ldots,p_n,y_1,\ldots,y_m) \leq p_1\ldots p_n - (p_1\ldots p_n+1) \leq -1$. So for any choice of $y_1,\ldots,y_m$, we have shown that $P(p_1,\ldots,p_n,y_1,\ldots,y_m)$ is negative. Since the $p_1,\ldots,p_n$ are prime, there can be no other product of primes which equals $p_1\ldots p_n$, therefore the number $p_1\ldots p_n$ does not occur in the nonnegative range of $P$. $\square$</p>

<p><b>Theorem:</b> The statement $\mathsf{SSIP}'$ is unprovable in Peano arithmetic.</p>

<p><b>Proof sketch:</b> Let $M$ be a nonstandard model of $\mathsf I\Sigma_1+\mathsf{SSIP}'$, and let $e$ be an arbitrary nonstandard natural in $M$. Let $\phi_1(a,x_1,\ldots,x_e)$, ..., $\phi_e(a,x_1,\ldots,x_e)$ be an enumeration of the first $e$ $\Delta^0_0$ formulas that have at most $e+1$ free variables. Since $M$ satisfies $\mathsf{SSIP}'_{e+1}$, let $\{p_1 < \ldots < p_{e+1}\}$ be a strong shift indiscernible' set of primes of size $e + 1$.</p>

<p>For each natural number $1\leq i\leq e$ and $a < p_1$, let the polynomial $P_{i,a}$ on the integers (internal polynomial in $M$, so it may have nonstandard coefficients, etc.) be one coming from lemma 2 for the $\Delta^0_0$ formula $\phi_i(a,x_1,\ldots,x_e)$. Now we need to check that there is a polynomial whose number of variables, degree, and magnitude of coefficients are all less than $2\uparrow\uparrow p_1$, which represents the same nonnegative integers as $P_{i,a}$. [TODO: I need to redo this universal Diophantine $U$ part so that it represents the same nonnegative integers $p_1\ldots p_e$ as $P_{i,a}$, not just is zero whenever $P_{i,a}$ is zero!] Let $U$ be a universal Diophantine formula with standard Gödel-code, so its degree, number of variables, and coefficients are all standard. There likely (this is sketchy) is a Gödel-code $g_{i,a}$ for $P_{i,a}$ that is less than $2\uparrow\uparrow p_1$, such that for all prime numbers $p_1,\ldots p_e$, we have that $\exists y_1,\ldots,y_m(P_{i,a}(p_1,\ldots,p_e,y_1,\ldots,y_m) = 0)$ iff $\exists y_1,\ldots,y_m(U(g_{i,a},p_1,\ldots,p_e,y_1,\ldots,y_m) = 0)$. Consider the polynomial $\lambda(p_1,\ldots,p_e).U(g_{i,a},p_1,\ldots,p_e,y_1,\ldots,y_m$, namely letting the unknowns be $p_1,\ldots,p_e$ and substituting in values of all other unknowns. Its degree is at most the degree of $U$, which is standard, its number of variables is $e$, and the magnitudes of coefficients are at most $2\uparrow\uparrow g_{i,a}$, which are all less than $2\uparrow\uparrow p_1$. Therefore strong shift indiscernibility' is applicable to this polynomial.</p>

<p>Letting natural numbers $1\leq i\leq e$ and $a < p_1$ be arbitrary, since $\{p_1 < \ldots < p_{e+1}\}$ is a strong shift indiscernible' set of primes, we have that $p_1\ldots p_e$ is in the nonnegative range of $P_{i,a}$ iff $p_2\ldots p_{e+1}$ is. So we have that $\phi_i(a,p_1,\ldots,p_e)$ iff $\phi_i(a,p_2,\ldots,p_{e+1}$, this property is known as diagonal indiscernibility of $(p_1,\ldots,p_e)$.</p>

<p>Define $I$ to be the cut of $M$ at the (external) supremum $\sup\{h_i\mid i\in\omega\}$. We will show that $I$ satisfies $\mathsf{PA}+\lnot\mathsf{SSIP}'$. To show that $I$ satisfies $\mathsf{PA}$, this is a standard diagonal indiscernibility argument which can be found in e.g. Bovykin's 2016 talk handout "<a href="https://www.researchgate.net/publication/335684125_A_proof_of_unprovability_of_an_arithmetical_statement_in_one_step_Abstract_of_a_talk">A proof of $\mathrm{ZFC}^-$-unprovability of an arithmetical statement, in one step</a>", for completeness we reproduce this argument here. TODO</p>

</p>Then, to show that $I$ satisfies $\lnot\mathsf{SSIP}'$, we have just produced a counterexample $P_{i,a}$ showing that $I$ fails to satisfy $\mathsf{SSIP}'_{e+1}$. $\square$</p>

<p>A less sketchy proof of the above might explicitly specify a universal Diophantine formula $U$, and verify that it is possible to find a Gödel-code $g_{i,a}$ that is less than $2\uparrow\uparrow p_1$, or possibly use the internals of the proof of the MRDP theorem to skip using a universal Diophantine altogether and directly construct a polynomial with coefficients and degree less than $2\uparrow\uparrow p_1$ which represents the desired set $\{p_1\ldots p_e\mid \phi_i(a,p_1,\ldots,p_e)\}$.</p>

<p>Now we need to transfer from $\mathsf{SSIP}'$ to $\mathsf{SSIP}$. TODO</p>
</body>
