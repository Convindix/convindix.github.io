<!DOCTYPE html>
<html>
<head>
  <title>Notes on Adjacent Ramsey Theory</title>
  <script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$']]
    },
    svg: {
      fontCache: 'global'
    }
  };
  </script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>
</head>
<body>
<h1>Notes on Adjacent Ramsey Theory</h1>
Here are some notes on Friedman's manuscript "<a href="https://bpb-us-w2.wpmucdn.com/u.osu.edu/dist/1/1952/files/2014/01/PA-incomp082910-2lgh5wm.pdf">Adjacent Ramsey Theory</a>" (2010).

<h2>Part I: A slight simplification</h2>

<p>There is a slight simplification that can be applied to the work leading up to lemma 2.8, by using a slightly simpler ordinal notation for $\varepsilon_0$. This also yields a stronger version of lemma 2.7. The following content of this section presents this simplification (adapted from Friedman 2010).</p>

<p>[$\leq$ denotes componentwise comparison between tuples from $\mathbb N$ of the same length. Say that "Theorem D for $r$" is the statement that for all positive integers $k$ and functions $f:\mathbb N^k \to \mathbb N^r$, there exist $x_1 < \ldots < x_{k+1}$ such that $f(x_1,\ldots,x_k)\leq f(x_2,\ldots,x_{k+1})$.]</p>

<p>We use base $\omega$ Cantor normal form for ordinals $<\varepsilon_0$. For each $k\geq 0$, define the set of expressions $W(k)$ and a strict linear ordering $<_k$ on $W(k)$, as follows.</p>

<p>$W(0)$ consists of 0 only. $<_0$ is empty. Suppose $W(k)$, $<_k$ have been defined, where $<_k$ is a strict linear ordering on $W(k)$. Use $\leq_k$ to denote the non-strict linear ordering obtained from $<_k$. $W(k+1)$ consists of $0$ and the expressions

$$\omega^{x_1}+\ldots+\omega^{x_r}$$

where $r\geq 1$ and $x_1 \geq_k \ldots \geq_k x_r$. [The change is the lack of coefficients $c_i$.]</p>

<p>$<_{k+1}$ on $W(k+1)$ is defined as follows. $0$ is put at the bottom. Let $x,y\in W(k+1)$ be nonzero and distinct. Write

$$\begin{align*} x = & \omega^{x_1}+\ldots+\omega^{x_r} \\ y = & \omega^{y_1}+\ldots+\omega^{y_s}\end{align*}$$</p>

<p>case 1. There exists $1\leq i\leq\mathrm{min}(r,s)$ such that for all $1 \leq j < i$, $\omega^{x_i}=\omega^{y_i}$ and $\omega^{x_i}\neq\omega_{y_i}$. If $x_i <_k y_i$ then $x <_{k+1} y$. If $y_i <_k x_i$ then $y <_{k+1} x$.</p>

<p>case 2. Otherwise. Then $x$ is a proper initial segment of $y$ or $y$ is a proper initial segment of $x$. In the former case, $x<_{k+1}y$. If the latter case, $y<_{k+1}x$.</p>

<p>We can easily prove by induction that $W(k)\subseteq W(k+1)$ and $<_k\subseteq<_{k+1}$ and each $<_k$ is a well-ordering that agrees with the standard ordinal interpretation of $W(k)$. This is all well known and very standard.</p>

<p>Fix $k\geq 0$. For $x\in W(k)$ and $i\geq 0$, we define $x[i]$ as follows. For $x = 0$, take $0[i] = 0$. For $x > 0$, take $x[i]$ to be the $i$-th term of $x$ if $1\leq i\leq \mathrm{lth}(x)$; $0$ otherwise. Note that each nonzero $x[i]$ has an exponent.</p>

<p>Let $x,y\in W(k)$. Write $\mathrm{CP}(x,y)$ for the comparison position of $x,y$, which is the least $i$ such that $x[i]\neq y[i]$ if $x\neq y$; $0$ otherwise.</p>

<p>Write $\mathrm{CT}(x,y)$ for the comparison term of $x,y$, which is $x[\mathrm{CP}(x,y)]$.</p>

<p>LEMMA 2.4. The following is provable in $\mathrm{EFA}$. $x\neq y\implies\mathrm{CP}(x,y)$ exists and is nonzero. $0 < i\leq j\leq\mathrm{lth}(x)\implies x[j]\leq_k x[i]$. $x \leq_k y\iff x[\mathrm{CP}(x,y)] \leq_k y[\mathrm{CP}(x,y)]$.

<p>Proof: Suppose $x\neq y$. If $x$ and $y$ are not both $0$ [originally written as $x,y\neq 0$] then obviously $\mathrm{CP}(x,y)$ exists. Since $x[0]=y[0]$, $\mathrm{CP}(x,y)>0$.</p>

<p>Suppose $0 < i \leq j \leq \mathrm{lth}(x)$. Then since $x$ is made of decreasing terms, $x[j]\leq_k x[i]$.</p>

<p>Suppose $x \leq_k y$. [Friedman may have made a typo by writing $x\leq y$.] If $x = y$ then obviously $x[\mathrm{CP}(x,y)] \leq_k y[\mathrm{CP}(x,y)]$. If $0 = x <_k y$ then $x[\mathrm{CP}(x,y)] = 0 \leq_k y[\mathrm{CP}(x,y)]$. If $0 <_k x <_k y$ then $\mathrm{CP}(x,y) > 0$, and $x[\mathrm{CP}(x,y)] <_k y[\mathrm{CP}(x,y)]$.</p>

<p>Suppose $y <_k x$. Then $\mathrm{CP}(x,y)\neq 0$. If $y=0$ then $y[\mathrm{CP}(x,y)] = 0 <_k x[\mathrm{CP}(x,y)]$. If $y\neq 0$ then $y[\mathrm{CP}(x,y)] <_k x[\mathrm{CP}(x,y)]$. QED</p>

<p>LEMMA 2.5. The following is provable in $\mathrm{EFA}$. Suppose $x,y,z\in W(k)$, $\mathrm{CP}(x,y)\leq\mathrm{CP}(y,z)$, $\mathrm{CT}(x,y) \leq_k \mathrm{CT}(y,z)$. Then $x \leq_k y$.</p>

<p>Proof: Let $x,y,z$ be as given. By [Lemma 2.4], if $\mathrm{CP}(x,y)=0$ then $x=y$. So we assume that $0<\mathrm{CP}(x,y)\leq\mathrm{CP}(y,z)$. Using Lemma 2.s1 [perhaps the second part of lemma 2.4?],

$$x[\mathrm{CP}(x,y)] = \mathrm{CT}(x,y) \leq_k \mathrm{CT}(y,z) = y[\mathrm{CP}(y,z)] \leq_k y[\mathrm{CP}(x,y)]$$.

By Lemma 2.4, $x \leq_k y$. QED</p>

<p>Write $\mathrm{CE}(x,y)$ for the comparison exponent of $x,y$, which is the exponent of $\mathrm{CT}(x,y)$ if $\mathrm{CT}(x,y) > 0$; $0$ otherwise.</p>

<p>LEMMA 2.6. The following is provable in $\mathrm{EFA}$. Suppose $x,y,z\in W(k)$, $\mathrm{CP}(x,y) \leq \mathrm{CP}(y,z)$, $\mathrm{CE}(x,y) \leq_k \mathrm{CE}(y,z)$. Then $x \leq_k y$.</p>

<p>Proof: Let $x,y,z$ be as given. By Lemma 2.5, it suffices to show that $\mathrm{CT}(x,y) \leq_k \mathrm{CT}(y,z)$.</p>

<p>Clearly, if $\mathrm{CT}(x,y)$ and $\mathrm{CT}(y,z)$ are not both $0$, then $\mathrm{CT}(x,y) \leq_k \mathrm{CT}(y,z)$.</p>

<p>Suppose $\mathrm{CT}(y,z)=0$. As $y[i]\neq 0$ for all $1\leq i\leq\mathrm{lth}(y)$, $y$ must be $0$, therefore $\mathrm{CE}(y,z) = 0$. Thus $\mathrm{CE}(x,y)=0$ as well, and both $\mathrm{CT}(x,y)$ and $\mathrm{CT}(y,z)$ are $0$. Therefore it holds that $\mathrm{CT}(x,y) \leq_k \mathrm{CT}(y,z)$. QED</p>

<p>LEMMA 2.7. The following is provable in $\mathrm{EFA}$. For all $k\geq 1$ there exists $f:W(k)^k \to \mathbb N^k$ such that the following holds. $f(x_1,\ldots,x_k)\leq f(x_1,\ldots,x_{k+1})\implies x_1 \leq_k x_2$.</p>

<p>Proof: By induction on $k\geq 1$. We first let $k=1$. Note that $W(1) = \{\underbrace{\omega^0+\ldots+\omega^0}_{n} : n\in\mathbb Z^+\}\cup\{0\}$. Set $f(x)$ to be $0$ if $x=0$, and $\mathrm{lth}(x)$ otherwise.</p>

<p>Now let $f:W(k)^k \to \mathbb N^k$ be as required. We define $g:W(k+1)^{k+1} \to \mathbb N^{k+1}$ as follows.</p>

<p>Let $x_1,\ldots,x_{k+1}\in W(k+1)$. Define $g(x_1,\ldots,x_{k+1}) =$

$$(\mathrm{CP}(x_1,x_2))\frown f(\mathrm{CE}(x_1,x_2),\mathrm{CE}(x_2,x_3),\ldots,\mathrm{CE}(x_k,x_{k+1}))$$,

[where $\frown$ denotes tuple concatenation.]</p>

<p>Now let $x_1,\ldots,x_{k+1}\in W(k+1)$, $g(x_1,\ldots,x_{k+1})\leq g(x_2,\ldots,x_{k+2})$. Clearly $g(x_2,\ldots,x_{k+2}) =$

$$(\mathrm{CP}(x_2,x_3))\frown f(\mathrm{CE}(x_2,x_3),\mathrm{CE}(x_3,x_4),\ldots,\mathrm{CE}(x_{k+1},x_{k+2})).$$</p>

<p>Hence

$$\begin{align*} \mathrm{CP}(x_1,x_2) & \leq \mathrm{CP}(x_2,x_3). \\ f(\mathrm{CE}(x_1,x_2),\mathrm{CE}(x_2,x_3),\ldots,\mathrm{CE}(x_k,x_{k+1})) & \leq f(\mathrm{CE}(x_2,x_3),\mathrm{CE}(x_3,x_4),\ldots,\mathrm{CE}(x_{k+1},x_{k+2})). \end{align*}$$</p>

<p>By the induction hypothesis, $\mathrm{CE}(x_1,x_2) \leq_k \mathrm{CE}(x_2,x_3)$.</p>

<p>Hence by Lemma 2.6, $x_1 \leq_k x_2$. QED</p>

<p>LEMMA 2.8. The following is provable in $\mathrm{RCA}_0$. Suppose Theorem D holds for $r = k$. Then $W(k)$ is well-ordered by $<_k$.</p>

<p>Proof: Let $k$ be as given. Let $g:\mathbb N\to W(k)$. Let $f:W(k)^k \to \mathbb N^k$ be given by Lemma 2.7. It suffices to find $i < j$ such that $g(i) <_k g(j)$.</p>

<p>Define $h:\mathbb N^k \to \mathbb N^k$ by

$$h(x_1,\ldots,x_k) = f(g(x_1),\ldots,g(x_k)).$$</p>

<p>By Theorem D for $h$, let $x_1,\ldots,x_{k+1}$, where

$$\begin{align*} h(x_1,\ldots,x_k) & \leq h(x_2,\ldots,x_{k+1}). \\ f(g(x_1),\ldots,g(x_k)) & \leq f(g(x_2),\ldots,g(x_{k+1})). \end{align*}$$</p>

<p>By the choice of $f$, $g(x_1) \leq g(x_2)$. Since $g$ is arbitrary, $W(k)$ is well ordered by $<_k$. QED</p>

<h2>Part II: Large integers</h2>

<p>As in Friedman, call a function $f:\subseteq\mathbb N^k\to\mathbb N^k$ limited if for all $x\in\mathrm{dom}(f)$, $\mathrm{max}(f(x))\leq\mathrm{max}(x)$. Consider the following function $R:\mathbb Z^+\to\mathbb N$: for $k\in\mathbb N$ let $R(k)$ be the least $p$ such that for all limited $f:[p]^k\to\mathbb N^k$, there are $x_1<\ldots<x_{k+1}$ such that $f(x_1,\ldots,x_k)\leq f(x_2,\ldots,x_{k+1})$.</p>

<p>The goal is to prove that $R$ grows at roughly the speed of $H_{\varepsilon_0}$.</p>

<p>Call a function $f:\operatorname{\subseteq}\mathbb N^k\to\mathbb N^k$ $17$-limited if for all $x\in\mathrm{dom}(f)$, $\mathrm{max}(f(x))\leq 17\mathrm{max}(x)$. Define the norm function $N:\bigcup_{k\in\mathbb N}W(k) \to \mathbb N$ by $N(0) = 0$, $N(\omega^\alpha) = N(\alpha)+1$, and $N(\alpha+\beta) = N(\alpha) + N(\beta)$.</p>

<p>Note that $f$ is $17$-limited iff for all $x\in\mathrm{dom}(f)$, $f(x)\leq (\underbrace{17\mathrm{max}(x),\ldots,17\mathrm{max}(x)}_k)$, this characterization will be used for convenience.</p>

<p>Lemma: If $\ell\geq 2$ is a natural number such that there is a $<_2$-decreasing function $h:[\ell]\to W(2)$, then there exists a function $g:[\ell]^2\to \mathbb N^2$ with no adjacent Ramsey sequence, i.e. no $x_1 < x_2 < x_3$ such that $g(x_1,x_2)\leq g(x_2,x_3)$.</p>

<p>Proof: Let $\ell$, $h$ be as given, and let $f:W(2)^2\to\mathbb N^2$ be as in lemma 2.7. Consider the function $g(x_1,x_2) = f(h(x_1),h(x_2))$. For any $x_1 < x_2 < x_3 \in [\ell]$, $g(x_1,x_2) \leq g(x_2,x_3)$ is equivalent to $f(h(x_1),h(x_2)) \leq f(h(x_2),h(x_3))$. By lemma 2.7 this is equivalent to $h(x_1) \leq_2 h(x_2)$, and since $x_1 < x_2$, by $<_2$-decreasingness of $h$, this is false. Therefore for no $x_1 < x_2 < x_3 \in [\ell]$ can we have $g(x_1,x_2) \leq g(x_2,x_3)$. $\square$</p>

<p>The above lemma is of the form $\forall\ell\geq 2((\exists\text{ a }<_2\text{-decreasing function }h:[\ell]\to W(2)) \implies (\lnot\forall(g:[\ell]^2\to\mathbb N^2)\ldots))$. When taking the contrapositive of the implication, the resulting equivalent statement is of the form $\forall\ell\geq 2((\forall(g:[\ell]^2\to\mathbb N^2)\ldots) \implies (\nexists\text{ a }<_2\text{-decreasing function }h:[\ell]\to W(2)))$. Lemma 2.8 for $k=2$ is $(\forall(g:\mathbb N^2\to\mathbb N^2)\ldots) \implies (\nexists\text{ a }<_2\text{-decreasing function }h:\mathbb N\to W(2))$, so in a way the above lemma is a finer-grained version of the contrapositive of lemma 2.8. (Avoid so much symbolic notation here?)</p>

<p>Theorem: If $\ell\geq 2$ is a natural number such that there is a $<_2$-decreasing function $h:[\ell]\to W(2)$ such that for all $1\leq i \leq \ell$, $N(h(i)) < 2+i$, then there exists a $17$-limited function $g:[\ell]^2\to \mathbb N^2$ with no adjacent Ramsey sequence, i.e. no $x_1 < x_2 < x_3$ such that $g(x_1,x_2)\leq g(x_2,x_3)$.</p>

<p>Proof: To be adapted from the above lemma's proof. Let $\ell$, $h$ be as given, and let $f:W(2)^2\to\mathbb N^2$ be as in lemma 2.7. Consider the function $g(x_1,x_2) = f(h(x_1),h(x_2))$. First, we show that $g$ is $17$-limited. (Insert proof here) Let $x\in\mathrm{dom}(g)$.</p>

<p>Now, we show that $g$ has no adjacent Ramsey sequence. For any $x_1 < x_2 < x_3 \in [\ell]$, $g(x_1,x_2) \leq g(x_2,x_3)$ is equivalent to $f(h(x_1),h(x_2)) \leq f(h(x_2),h(x_3))$. By lemma 2.7 this is equivalent to $h(x_1) \leq_2 h(x_2)$, and since $x_1 < x_2$, by $<_2$-decreasingness of $h$, this is false. Therefore for no $x_1 < x_2 < x_3 \in [\ell]$ can we have $g(x_1,x_2) \leq g(x_2,x_3)$. $\square$</p>

<p>Coming soon. Use $h$ where $N(h(i))$ is bounded by some function of $i$. Extend the above to $k$ other than $2$. Remove the "$17$" from $17$-limitedness.</p>

<h2>Part III: Extension attempts</h2>

<p>I attempted to create stronger versions of Theorem D which imply statements of the form "$\alpha$ is well-ordered" for ordinals (ordinal notations) $\alpha$ larger than $\varepsilon_0$ (in particular I attempted $\varphi_\omega(0)$ using <a href="https://en.wikipedia.org/wiki/Veblen_function">Veblen's function</a>), however I was not successful. I may return to this problem soon, using more complicated relations on $\mathbb N^r$ than Friedman's $\leq$.</p>

<p>These versions of Theorem D are only conjecturally true, as the infinite Ramsey theorem fails to prove them.</p>

</body>
</html>
